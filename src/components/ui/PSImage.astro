---
interface ImageData {
  src: string
  alt: string
}

interface Props {
  imageKey: string
  class?: string
  loading?: "lazy" | "eager"
}

const { imageKey, class: className = "", loading = "lazy" } = Astro.props as Props
const images = (await import("../../data/images.json")).default as Record<string, ImageData>
const img = images[imageKey]

if (!img) {
  throw new Error(`PSImage: unknown imageKey "${imageKey}"`)
}
---
<img src={img.src} alt={img.alt} loading={loading} class={className} />
